CREATE TABLE Submission (
	id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
	title VARCHAR(255) NOT NULL,
	upvoteCount INTEGER NOT NULL,
	downvoteCount INTEGER NOT NULL,
	author_id BIGINT NOT NULL
);

CREATE TABLE Comment (
	id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
	content VARCHAR(255) NOT NULL
);

CREATE TABLE Submission_Comment (
	Submission_id BIGINT NOT NULL,
	comments_id BIGINT NOT NULL,
	UNIQUE(comments_id),
	FOREIGN KEY(comments_id) REFERENCES Comment(id),
	FOREIGN KEY(Submission_id) REFERENCES Submission(id)
);

CREATE TABLE User (
	id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,
	name VARCHAR(255) NOT NULL,
	password VARCHAR(255) NOT NULL,
	UNIQUE(name)
);

CREATE TABLE Submission_User (
	Submission_id BIGINT NOT NULL,
	voters_id BIGINT NOT NULL,
	FOREIGN KEY(Submission_id) REFERENCES Submission(id)
);
